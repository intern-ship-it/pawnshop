import{w as A,u as ee,r as x,g as M,j as e,d as m,F as L,R as V,W,P as se,h as ae,E as te,q as ne,T as _,I as le,S as ce,e as I,s as H}from"./index-o28qtZ4E.js";import{f as a}from"./formatters-BhAPqf4o.js";import{P as re}from"./PageWrapper-D4uzFYGf.js";import{B as g,m as ie}from"./proxy-D6mGC7EI.js";import{C as h,I as Y,M as de}from"./Modal-7Sg338uS.js";import{B as P}from"./Badge-Br48OPWn.js";import{L as S}from"./lock-D12x4_nz.js";import{D as oe}from"./dollar-sign-CXfw5wgV.js";import{a as xe,A as me}from"./arrow-up-right-zIjuM6R2.js";import{B as he}from"./banknote-DTxVb2uI.js";import{P as pe}from"./printer-BXY7LAxL.js";import{D as ue}from"./download-Bqlh6cxb.js";const ge=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],G=A("lock-open",ge);const je=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],be=A("piggy-bank",je);const fe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ne=A("receipt",fe);function Re(){const D=ee(),[d,U]=x.useState(new Date().toISOString().split("T")[0]),[q,k]=x.useState(!1),[K,N]=x.useState(!1),[p,v]=x.useState("open"),[t,w]=x.useState({openingBalance:5e3,closingBalance:"",notes:""}),[y,Z]=x.useState([]),[R,B]=x.useState([]);x.useEffect(()=>{const n=M(ce.PLEDGES,[]);Z(n);const i=M("dayEndRecords",[]);B(i);const o=i.find(b=>b.date===d);o?(v("closed"),w({openingBalance:o.openingBalance,closingBalance:o.closingBalance,notes:o.notes})):v("open")},[d]);const s=x.useMemo(()=>{const n=new Date(d);n.setHours(0,0,0,0);const i=new Date(d);i.setHours(23,59,59,999);const o=y.filter(c=>{const r=new Date(c.createdAt);return r>=n&&r<=i}),b=y.filter(c=>c.renewalHistory?c.renewalHistory.some(r=>{const u=new Date(r.date);return u>=n&&u<=i}):!1),z=y.filter(c=>{if(c.status!=="redeemed"||!c.redeemedAt)return!1;const r=new Date(c.redeemedAt);return r>=n&&r<=i}),$=o.reduce((c,r)=>c+(r.loanAmount||0),0),E=b.reduce((c,r)=>{const u=r.renewalHistory?.filter(f=>{const C=new Date(f.date);return C>=n&&C<=i})||[];return c+u.reduce((f,C)=>f+(C.interestPaid||0),0)},0),O=z.reduce((c,r)=>c+(r.redemptionTotal||r.loanAmount||0),0),F=$,T=E+O;return{newPledgesCount:o.length,renewalsCount:b.length,redemptionsCount:z.length,newPledgesAmount:$,renewalInterest:E,redemptionAmount:O,cashIn:T,cashOut:F,netCashFlow:T-F,newPledges:o,renewals:b,redemptions:z,totalItemsAdded:o.reduce((c,r)=>c+(r.items?.length||0),0),totalWeight:o.reduce((c,r)=>c+(r.items?.reduce((u,f)=>u+(parseFloat(f.weight)||0),0)||0),0)}},[y,d]),j=x.useMemo(()=>t.openingBalance+s.cashIn-s.cashOut,[t.openingBalance,s]),l=x.useMemo(()=>t.closingBalance?parseFloat(t.closingBalance)-j:0,[t.closingBalance,j]),J=()=>{if(!t.closingBalance){D(I({type:"error",title:"Error",message:"Please enter closing balance"}));return}k(!0),setTimeout(()=>{const n={date:d,closedAt:new Date().toISOString(),closedBy:"Admin User",openingBalance:t.openingBalance,closingBalance:parseFloat(t.closingBalance),expectedClosing:j,variance:l,...s,notes:t.notes},i=[...R.filter(o=>o.date!==d),n];H("dayEndRecords",i),B(i),k(!1),N(!1),v("closed"),D(I({type:"success",title:"Day Closed",message:`Day end summary for ${d} has been saved`}))},1e3)},Q=()=>{const n=R.filter(i=>i.date!==d);H("dayEndRecords",n),B(n),v("open"),w({openingBalance:5e3,closingBalance:"",notes:""}),D(I({type:"info",title:"Day Reopened",message:"You can now edit transactions"}))},X=()=>{const n=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Day End Summary - ${d}</title>
        <style>
          body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
          h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
          .header { display: flex; justify-content: space-between; margin-bottom: 20px; }
          .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
          .section h3 { margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 8px; }
          .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0; }
          .row:last-child { border-bottom: none; }
          .label { color: #666; }
          .value { font-weight: bold; }
          .positive { color: #059669; }
          .negative { color: #dc2626; }
          .total { font-size: 1.2em; background: #f5f5f5; padding: 10px; border-radius: 4px; }
          .signature { margin-top: 40px; display: flex; justify-content: space-between; }
          .signature-line { border-top: 1px solid #333; width: 200px; text-align: center; padding-top: 5px; }
          @media print { body { padding: 0; } }
        </style>
      </head>
      <body>
        <h1>Day End Summary</h1>
        <div class="header">
          <div><strong>Date:</strong> ${new Date(d).toLocaleDateString("en-MY",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</div>
          <div><strong>Status:</strong> ${p==="closed"?"üîí CLOSED":"üîì OPEN"}</div>
        </div>

        <div class="section">
          <h3>üìä Transaction Summary</h3>
          <div class="row"><span class="label">New Pledges</span><span class="value">${s.newPledgesCount} (${a(s.newPledgesAmount)})</span></div>
          <div class="row"><span class="label">Renewals</span><span class="value">${s.renewalsCount} (Interest: ${a(s.renewalInterest)})</span></div>
          <div class="row"><span class="label">Redemptions</span><span class="value">${s.redemptionsCount} (${a(s.redemptionAmount)})</span></div>
        </div>

        <div class="section">
          <h3>üí∞ Cash Flow</h3>
          <div class="row"><span class="label">Cash In (Received)</span><span class="value positive">+ ${a(s.cashIn)}</span></div>
          <div class="row"><span class="label">Cash Out (Disbursed)</span><span class="value negative">- ${a(s.cashOut)}</span></div>
          <div class="row total"><span class="label">Net Cash Flow</span><span class="value ${s.netCashFlow>=0?"positive":"negative"}">${s.netCashFlow>=0?"+":""}${a(s.netCashFlow)}</span></div>
        </div>

        <div class="section">
          <h3>üè¶ Cash Drawer</h3>
          <div class="row"><span class="label">Opening Balance</span><span class="value">${a(t.openingBalance)}</span></div>
          <div class="row"><span class="label">Expected Closing</span><span class="value">${a(j)}</span></div>
          ${t.closingBalance?`<div class="row"><span class="label">Actual Closing</span><span class="value">${a(parseFloat(t.closingBalance))}</span></div>`:""}
          ${t.closingBalance?`<div class="row"><span class="label">Variance</span><span class="value ${l>=0?"positive":"negative"}">${l>=0?"+":""}${a(l)}</span></div>`:""}
        </div>

        ${t.notes?`<div class="section"><h3>üìù Notes</h3><p>${t.notes}</p></div>`:""}

        <div class="signature">
          <div class="signature-line">Prepared By</div>
          <div class="signature-line">Verified By</div>
          <div class="signature-line">Manager Approval</div>
        </div>

        <p style="text-align: center; margin-top: 30px; color: #999; font-size: 12px;">
          Generated on ${new Date().toLocaleString("en-MY")} | PawnSys
        </p>
      </body>
      </html>
    `,i=window.open("","_blank");i.document.write(n),i.document.close()};return e.jsxs(re,{title:"Day End Summary",subtitle:"Daily closing report and cash reconciliation",actions:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{type:"date",value:d,onChange:n=>U(n.target.value),className:"w-44"}),e.jsx(g,{variant:"outline",leftIcon:pe,onClick:X,children:"Print"}),e.jsx(g,{variant:"outline",leftIcon:ue,children:"Export"})]}),children:[e.jsx(h,{className:m("p-4 mb-6 border-2",p==="closed"?"bg-emerald-50 border-emerald-200":"bg-amber-50 border-amber-200"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p==="closed"?e.jsx(S,{className:"w-6 h-6 text-emerald-600"}):e.jsx(G,{className:"w-6 h-6 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-zinc-800",children:new Date(d).toLocaleDateString("en-MY",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:m("text-sm",p==="closed"?"text-emerald-600":"text-amber-600"),children:p==="closed"?"Day Closed":"Day Open - Transactions Active"})]})]}),p==="open"?e.jsx(g,{variant:"accent",leftIcon:S,onClick:()=>N(!0),children:"Close Day"}):e.jsx(g,{variant:"outline",leftIcon:G,onClick:Q,children:"Reopen Day"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500",children:"New Pledges"}),e.jsx("p",{className:"text-2xl font-bold text-zinc-800",children:s.newPledgesCount}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:a(s.newPledgesAmount)})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500",children:"Renewals"}),e.jsx("p",{className:"text-2xl font-bold text-zinc-800",children:s.renewalsCount}),e.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:[a(s.renewalInterest)," interest"]})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:e.jsx(W,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500",children:"Redemptions"}),e.jsx("p",{className:"text-2xl font-bold text-zinc-800",children:s.redemptionsCount}),e.jsx("p",{className:"text-xs text-emerald-600 font-medium",children:a(s.redemptionAmount)})]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500",children:"Items Added"}),e.jsx("p",{className:"text-2xl font-bold text-zinc-800",children:s.totalItemsAdded}),e.jsxs("p",{className:"text-xs text-purple-600 font-medium",children:[s.totalWeight.toFixed(2),"g total"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-zinc-800 mb-6 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-amber-500"}),"Cash Flow Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-50 border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-emerald-700",children:"Cash In"}),e.jsx(xe,{className:"w-5 h-5 text-emerald-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:a(s.cashIn)}),e.jsxs("div",{className:"mt-3 space-y-1 text-xs text-emerald-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Interest"}),e.jsx("span",{children:a(s.renewalInterest)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Redemptions"}),e.jsx("span",{children:a(s.redemptionAmount)})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm text-red-700",children:"Cash Out"}),e.jsx(me,{className:"w-5 h-5 text-red-500"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a(s.cashOut)}),e.jsx("div",{className:"mt-3 space-y-1 text-xs text-red-600",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"New Loans"}),e.jsx("span",{children:a(s.newPledgesAmount)})]})})]}),e.jsxs("div",{className:m("p-4 rounded-xl border",s.netCashFlow>=0?"bg-blue-50 border-blue-200":"bg-orange-50 border-orange-200"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:m("text-sm",s.netCashFlow>=0?"text-blue-700":"text-orange-700"),children:"Net Flow"}),s.netCashFlow>=0?e.jsx(ae,{className:"w-5 h-5 text-blue-500"}):e.jsx(te,{className:"w-5 h-5 text-orange-500"})]}),e.jsxs("p",{className:m("text-2xl font-bold",s.netCashFlow>=0?"text-blue-600":"text-orange-600"),children:[s.netCashFlow>=0?"+":"",a(s.netCashFlow)]})]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-zinc-800 mb-4 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-amber-500"}),"Transaction Breakdown"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-zinc-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-xs font-semibold text-zinc-500 uppercase",children:"Type"}),e.jsx("th",{className:"text-center p-3 text-xs font-semibold text-zinc-500 uppercase",children:"Count"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold text-zinc-500 uppercase",children:"Amount"}),e.jsx("th",{className:"text-center p-3 text-xs font-semibold text-zinc-500 uppercase",children:"Direction"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100",children:[e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"New Pledges"})]})}),e.jsx("td",{className:"p-3 text-center font-medium",children:s.newPledgesCount}),e.jsx("td",{className:"p-3 text-right font-semibold",children:a(s.newPledgesAmount)}),e.jsx("td",{className:"p-3 text-center",children:e.jsx(P,{variant:"error",children:"Cash Out"})})]}),e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{children:"Renewals (Interest)"})]})}),e.jsx("td",{className:"p-3 text-center font-medium",children:s.renewalsCount}),e.jsx("td",{className:"p-3 text-right font-semibold",children:a(s.renewalInterest)}),e.jsx("td",{className:"p-3 text-center",children:e.jsx(P,{variant:"success",children:"Cash In"})})]}),e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-500"}),e.jsx("span",{children:"Redemptions"})]})}),e.jsx("td",{className:"p-3 text-center font-medium",children:s.redemptionsCount}),e.jsx("td",{className:"p-3 text-right font-semibold",children:a(s.redemptionAmount)}),e.jsx("td",{className:"p-3 text-center",children:e.jsx(P,{variant:"success",children:"Cash In"})})]})]}),e.jsx("tfoot",{className:"bg-zinc-100 font-semibold",children:e.jsxs("tr",{children:[e.jsx("td",{className:"p-3",children:"Total"}),e.jsx("td",{className:"p-3 text-center",children:s.newPledgesCount+s.renewalsCount+s.redemptionsCount}),e.jsx("td",{className:"p-3 text-right",children:a(s.cashIn+s.cashOut)}),e.jsx("td",{className:"p-3"})]})})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsxs("h3",{className:"font-semibold text-zinc-800 mb-6 flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5 text-amber-500"}),"Cash Drawer"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-zinc-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-zinc-500",children:"Opening Balance"}),e.jsx("span",{className:"text-lg font-bold",children:a(t.openingBalance)})]})}),e.jsxs("div",{className:"p-4 bg-zinc-50 rounded-xl space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-emerald-600",children:"+ Cash In"}),e.jsx("span",{className:"font-medium text-emerald-600",children:a(s.cashIn)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-red-600",children:"- Cash Out"}),e.jsx("span",{className:"font-medium text-red-600",children:a(s.cashOut)})]})]}),e.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-amber-700",children:"Expected Closing"}),e.jsx("span",{className:"text-xl font-bold text-amber-700",children:a(j)})]})}),p==="open"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Actual Closing Balance"}),e.jsx(Y,{type:"number",placeholder:"Enter actual cash count",value:t.closingBalance,onChange:n=>w({...t,closingBalance:n.target.value}),leftIcon:he})]}),t.closingBalance&&e.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:m("p-4 rounded-xl",l===0?"bg-emerald-50 border border-emerald-200":"bg-red-50 border border-red-200"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l===0?e.jsx(ne,{className:"w-5 h-5 text-emerald-500"}):e.jsx(_,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:m("text-sm font-medium",l===0?"text-emerald-700":"text-red-700"),children:l===0?"Balanced":"Variance"})]}),e.jsxs("span",{className:m("text-lg font-bold",l===0?"text-emerald-600":"text-red-600"),children:[l>=0?"+":"",a(l)]})]})}),p==="open"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm",rows:3,placeholder:"Any remarks for today...",value:t.notes,onChange:n=>w({...t,notes:n.target.value})})]})]})]}),e.jsx(h,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(le,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("p",{className:"font-medium",children:"Day End Process"}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-xs",children:[e.jsx("li",{children:"Review all transactions"}),e.jsx("li",{children:"Count physical cash"}),e.jsx("li",{children:"Enter closing balance"}),e.jsx("li",{children:"Investigate variance if any"}),e.jsx("li",{children:'Click "Close Day"'})]})]})]})})]})]}),e.jsx(de,{isOpen:K,onClose:()=>N(!1),title:"Close Day",size:"md",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-zinc-50 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-zinc-800",children:s.newPledgesCount+s.renewalsCount+s.redemptionsCount}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Total Transactions"})]}),e.jsxs("div",{className:m("text-center p-4 rounded-xl",l===0?"bg-emerald-50":"bg-red-50"),children:[e.jsx("p",{className:m("text-2xl font-bold",l===0?"text-emerald-600":"text-red-600"),children:l===0?"Balanced":a(l)}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Cash Variance"})]})]}),l!==0&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800",children:"Cash Variance Detected"}),e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["There is a ",a(Math.abs(l))," ",l>0?"surplus":"shortage",". Please verify your cash count before closing."]})]})]})}),e.jsxs("p",{className:"text-sm text-zinc-600 mb-6",children:["Are you sure you want to close the day? This will lock all transactions for ",d,"."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",fullWidth:!0,onClick:()=>N(!1),children:"Cancel"}),e.jsx(g,{variant:"accent",fullWidth:!0,leftIcon:S,onClick:J,loading:q,children:"Close Day"})]})]})})]})}export{Re as default};
